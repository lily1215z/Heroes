{"version":3,"sources":["hooks/http.hook.js","actions/index.js","components/heroesListItem/HeroesListItem.js","components/spinner/Spinner.js","components/heroesList/HeroesList.js","components/heroesAddForm/HeroesAddForm.js","components/heroesFilters/HeroesFilters.js","components/app/App.js","reducers/index.js","store/index.js","index.js"],"names":["useHttp","request","useCallback","url","method","body","headers","fetch","response","ok","Error","status","json","data","filterFetchingLoading","loading","type","payload","HeroesListItem","elementClassName","name","description","element","click","className","src","alt","style","onClick","aria-label","Spinner","role","HeroesList","useSelector","state","filteredHeroes","heroesLoadingStatus","dispatch","useDispatch","useEffect","then","catch","arr","elements","length","map","id","props","console","log","heroDelete","userDeleteHandler","HeroesAddForm","useState","setName","setDescription","setElement","filters","filtersLoading","filterLoading","onSubmit","e","preventDefault","hero","v1","JSON","stringify","heroAdd","htmlFor","value","required","placeholder","onChange","currentTarget","label","renderFilters","HeroesFilters","filtersActive","activeFilterChanged","filtersFetched","btnClass","classNames","App","initialState","heroes","reducer","action","filter","i","newAddHero","newHeroList","h","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a3615255.chunk.js","sourcesContent":["import { useCallback } from \"react\";\n\nexport const useHttp = () => {\n    // const [process, setProcess] = useState('waiting');\n\n    const request = useCallback(async (url, method = 'GET', body = null, headers = {'Content-Type': 'application/json'}) => {\n\n        // setProcess('loading');\n\n        try {\n            const response = await fetch(url, {method, body, headers});\n\n            if (!response.ok) {\n                throw new Error(`Could not fetch ${url}, status: ${response.status}`);\n            }\n\n            const data = await response.json();\n\n            return data;\n        } catch(e) {\n            // setProcess('error');\n            throw e;\n        }\n    }, []);\n\n    // const clearError = useCallback(() => {\n        // setProcess('loading');\n    // }, []);\n\n    return {request, \n            // clearError, \n            // process, \n            // setProcess\n        }\n}","export const heroesFetching = () => {\n    return {\n        type: 'HEROES_FETCHING'\n    }\n}\n\nexport const heroesFetched = (heroes) => {\n    return {\n        type: 'HEROES_FETCHED',\n        payload: heroes\n    }\n}\n\nexport const heroesFetchingError = () => {\n    return {\n        type: 'HEROES_FETCHING_ERROR'\n    }\n}\nexport const heroAdd = (hero) => {\n    return {\n        type: 'HEROES_ADD', payload: hero\n    }\n}\n\nexport const heroDelete = (id) => {\n    return {\n        type: 'HEROES_DELETE', payload: id\n    }\n}\n\nexport const filtersFetched = (filters) => {\n    return {type: 'FILTER_FETCHED', payload: filters}\n}\nexport const filterFetchingLoading = (loading) => {\n    return {type: 'FILTER_LOADING', payload: loading}\n}\nexport const activeFilterChanged = (activeFilter) => {\n    return {type: 'ACTIVE_FILTER_CHANGED', payload: activeFilter}\n}","\nconst HeroesListItem = ({name, description, element, click}) => {\n\n    let elementClassName;\n\n    switch (element) {\n        case 'fire':\n            elementClassName = 'bg-danger bg-gradient';\n            break;\n        case 'water':\n            elementClassName = 'bg-primary bg-gradient';\n            break;\n        case 'wind':\n            elementClassName = 'bg-success bg-gradient';\n            break;\n        case 'earth':\n            elementClassName = 'bg-secondary bg-gradient';\n            break;\n        default:\n            elementClassName = 'bg-warning bg-gradient';\n    }\n\n    return (\n        <li\n            className={`card flex-row mb-4 shadow-lg text-white ${elementClassName}`}>\n            <img src=\"http://www.stpaulsteinbach.org/wp-content/uploads/2014/09/unknown-hero.jpg\" \n                 className=\"img-fluid w-25 d-inline\" \n                 alt=\"unknown hero\" \n                 style={{'objectFit': 'cover'}}/>\n            <div className=\"card-body\">\n                \n                <h3 className=\"card-title\">{name}</h3>\n                <p className=\"card-text\">{description}</p>\n            </div>\n            <span onClick={click} className=\"position-absolute top-0 start-100 translate-middle badge border rounded-pill bg-light\">\n                <button type=\"button\" className=\"btn-close btn-close\" aria-label=\"Close\"></button>\n            </span>\n        </li>\n    )\n}\n\nexport default HeroesListItem;","\nconst Spinner = () => {\n    return (\n        <div className=\"spinner-border mx-auto mt-5\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n        </div>\n    )\n}\n\nexport default Spinner;","import {useHttp} from '../../hooks/http.hook';\nimport {useEffect} from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\n\nimport {heroesFetching, heroesFetched, heroesFetchingError, heroDelete} from '../../actions';\nimport HeroesListItem from \"../heroesListItem/HeroesListItem\";\nimport Spinner from '../spinner/Spinner';\n\n// Задача для этого компонента:\n// При клике на \"крестик\" идет удаление персонажа из общего состояния\n// Усложненная задача:\n// Удаление идет и с json файла при помощи метода DELETE\n\nconst HeroesList = () => {\n    const {filteredHeroes, heroesLoadingStatus} = useSelector(state => state);\n    const dispatch = useDispatch();\n    const {request} = useHttp();\n\n    useEffect(() => {\n        dispatch(heroesFetching());\n        request(\"http://localhost:3001/heroes\")\n            .then(data => dispatch(heroesFetched(data)))\n            .catch(() => dispatch(heroesFetchingError()))\n\n        // eslint-disable-next-line\n    }, []);\n\n    if (heroesLoadingStatus === \"loading\") {\n        return <Spinner/>;\n    } else if (heroesLoadingStatus === \"error\") {\n        return <h5 className=\"text-center mt-5\">Ошибка загрузки</h5>\n    }\n\n    const userDeleteHandler = (id) => {\n        request(`http://localhost:3001/heroes/${id}`, 'DELETE')\n            .then(data => console.log(data, 'Deleted'))\n            .then(dispatch(heroDelete(id)))\n            .catch(() => dispatch(heroesFetchingError()))\n    }\n    const renderHeroesList = (arr) => {\n        if (arr.length === 0) {\n            return <h5 className=\"text-center mt-5\">Героев пока нет</h5>\n        }\n\n        return arr.map(({id, ...props}) => {\n            return <HeroesListItem click={() => userDeleteHandler(id)} key={id} {...props}/>\n        })\n    }\n\n    const elements = renderHeroesList(filteredHeroes);\n    return (\n        <ul>\n            {elements}\n        </ul>\n    )\n}\n\nexport default HeroesList;","import {v1} from 'uuid'\nimport {heroAdd, heroesFetchingError} from \"../../actions\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {useState} from \"react\";\nimport {useHttp} from \"../../hooks/http.hook\";\n\n// Задача для этого компонента:\n// Реализовать создание нового героя с введенными данными. Он должен попадать\n// в общее состояние и отображаться в списке + фильтроваться\n// Уникальный идентификатор персонажа можно сгенерировать через uiid\n// Усложненная задача:\n// Персонаж создается и в файле json при помощи метода POST\n// Дополнительно:\n// Элементы <option></option> желательно сформировать на базе\n// данных из фильтров\n\nconst HeroesAddForm = () => {\n    const dispatch = useDispatch()\n    const {request} = useHttp();\n\n    const [name, setName] = useState('')\n    const [description, setDescription] = useState('')\n    const [element, setElement] = useState('')\n\n    const filters = useSelector(state => state.filters)\n    const filtersLoading = useSelector(state => state.filterLoading)\n\n\n    const heroAddHandler = (e) => {\n        e.preventDefault();\n        const hero = {\n            name,\n            description,\n            element,\n            id: v1()\n        }\n\n        request(\"http://localhost:3001/heroes\", 'POST', JSON.stringify(hero))\n            .then(dispatch(heroAdd(hero)))\n            .catch(() => dispatch(heroesFetchingError()))\n\n        setName('')\n        setDescription('')\n        setElement('')\n    }\n\n    const renderFilters = (filters, status) => {\n        if(status === 'loading') {\n            return <option>Loader elements</option>\n        } else if (status === 'error') {\n            return <option>error loading</option>\n        }\n\n        if(filters && filters.length > 0) {\n            return filters.map(({name, label}) => {\n                //один из фильтров нам тут не нужен\n                if(name === 'all') return\n\n                return <option key={name} value={name}>{label}</option>\n            })\n        }\n    }\n\n    return (\n        <form className=\"border p-4 shadow-lg rounded\" onSubmit={heroAddHandler}>\n            <div className=\"mb-3\">\n                <label htmlFor=\"name\" className=\"form-label fs-4\">Имя нового героя</label>\n                <input\n                    value={name}\n                    required\n                    type=\"text\" \n                    name=\"name\" \n                    className=\"form-control\" \n                    id=\"name\" \n                    placeholder=\"Как меня зовут?\"\n                    onChange={e=> setName(e.currentTarget.value)}\n                />\n            </div>\n\n            <div className=\"mb-3\">\n                <label htmlFor=\"text\" className=\"form-label fs-4\">Описание</label>\n                <textarea\n                    required\n                    value={description}\n                    name=\"text\" \n                    className=\"form-control\" \n                    id=\"text\" \n                    placeholder=\"Что я умею?\"\n                    onChange={e=>setDescription(e.currentTarget.value)}\n                    style={{\"height\": '130px'}}/>\n            </div>\n\n            <div className=\"mb-3\">\n                <label htmlFor=\"element\" className=\"form-label\">Выбрать элемент героя</label>\n\n                <select\n                    required\n                    className=\"form-select\"\n                    id=\"element\"\n                    value={element}\n                    onChange={e=>setElement(e.currentTarget.value)}\n                    name=\"element\">\n                    <option >Я владею элементом...</option>\n                    {renderFilters(filters, filtersLoading)}\n                </select>\n            </div>\n\n            <button type=\"submit\" className=\"btn btn-primary\">Создать</button>\n        </form>\n    )\n}\n\nexport default HeroesAddForm;","// Задача для этого компонента:\n// Фильтры должны формироваться на основании загруженных данных\n// Фильтры должны отображать только нужных героев при выборе\n// Активный фильтр имеет класс active\n// Изменять json-файл для удобства МОЖНО!\n// Представьте, что вы попросили бэкенд-разработчика об этом\n\nimport {useEffect} from \"react\";\nimport {activeFilterChanged, filterFetchingLoading, filtersFetched} from \"../../actions\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {useHttp} from \"../../hooks/http.hook\";\nimport classNames from \"classnames\";\n\nconst HeroesFilters = () => {\n    const dispatch = useDispatch()\n    const {request} = useHttp();\n    const filters = useSelector(state => state.filters)\n    const filtersLoading = useSelector(state => state.filterLoading)\n    const filtersActive = useSelector(state => state.activeFilterChanged)\n\n    useEffect(() => {\n        dispatch(filterFetchingLoading('loading'));\n        request(\"http://localhost:3001/filters\")\n            .then(data => dispatch(filtersFetched(data)))\n        // .catch(() => dispatch(filterFetchingLoading()))\n        dispatch(filterFetchingLoading('idle'));\n        // eslint-disable-next-line\n    }, []);\n\n    if (filtersLoading === 'loading') {\n        return <div> spinner</div>\n    } else if (filtersLoading === 'error') {\n        return <div>Error....</div>\n    }\n\n    const renderFilters = (filters) => {\n        if (filters.length === 0) {\n            return <h5>Filter not found</h5>\n        }\n\n        return filters.map(({name, className, label}) => {\n\n            const btnClass = classNames('btn', className, {\n                'active': name === filtersActive\n            })\n            return <button key={name}\n                           id={name}\n                           className={btnClass}\n                           onClick={()=> dispatch(activeFilterChanged(name))}\n            >{label}</button>\n        })\n    }\n    const elements = renderFilters(filters)\n\n    return (\n        <div className=\"card shadow-lg mt-4\">\n            <div className=\"card-body\">\n                <p className=\"card-text\">Отфильтруйте героев по элементам</p>\n                <div className=\"btn-group\">\n                    {elements}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default HeroesFilters;","import HeroesList from '../heroesList/HeroesList';\nimport HeroesAddForm from '../heroesAddForm/HeroesAddForm';\nimport HeroesFilters from '../heroesFilters/HeroesFilters';\n\nimport './app.scss';\n\nconst App = () => {\n    \n    return (\n        <main className=\"app\">\n            <div className=\"content\">\n                <HeroesList/>\n                <div className=\"content__interactive\">\n                    <HeroesAddForm/>\n                    <HeroesFilters/>\n                </div>\n            </div>\n        </main>\n    )\n}\n\nexport default App;","const initialState = {\n    heroes: [],\n    heroesLoadingStatus: 'idle',\n    filters: [],\n    filterLoading: 'idle',\n    activeFilterChanged: 'all',\n    filteredHeroes: []\n}\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'HEROES_FETCHING':\n            return {\n                ...state,\n                heroesLoadingStatus: 'loading'\n            }\n        case 'HEROES_FETCHED':\n            return {\n                ...state,\n                heroes: action.payload,\n                filteredHeroes: state.activeFilterChanged === 'all' ? action.payload : action.payload.filter(i=>i.element === state.activeFilterChanged),\n                heroesLoadingStatus: 'idle'\n            }\n        case 'HEROES_FETCHING_ERROR':\n            return {\n                ...state,\n                heroesLoadingStatus: 'error'\n            }\n        case 'HEROES_ADD':\n            const newAddHero = [action.payload, ...state.heroes]\n            return {\n                ...state, heroes: newAddHero,\n                filteredHeroes: state.activeFilterChanged === 'all' ? newAddHero : newAddHero.filter(i=>i.element === state.activeFilterChanged)\n            }\n        case 'HEROES_DELETE':\n            const newHeroList = state.heroes.filter(h => h.id !== action.payload)\n            return {\n                ...state, heroes: newHeroList,\n                filteredHeroes: state.activeFilterChanged === 'all' ? newHeroList : newHeroList.filter(i=>i.element===state.activeFilterChanged)\n            }\n        case 'FILTER_FETCHED':\n            return {\n                ...state, filters: action.payload\n            }\n        case 'FILTER_LOADING':\n            return {\n                ...state, filterLoading: action.payload\n            }\n        case 'ACTIVE_FILTER_CHANGED':\n            return {\n                ...state, activeFilterChanged: action.payload,\n                filteredHeroes: action.payload === 'all' ? state.heroes : state.heroes.filter(i=>i.element === action.payload)\n            }\n        default:\n            return state\n    }\n}\n\nexport default reducer;","import { createStore } from 'redux';\nimport reducer from '../reducers';\n\nconst store = createStore(reducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './components/app/App';\nimport store from './store';\n\nimport './styles/index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}